---
date: 2025-08-19
tags:
title: 파이프라인
index:
---
# cheerio vs rehype

내 블로그는 옵시디언이라는 마크다운 에디터로 블로그 글을 작성하면,
그걸 remark 라이브러리를 사용해 html 구조로 바꿔서 브라우저상에서 볼 수 있게 하는 방법을 사용한다.

그런데 옵시디언에서는 latex 표현($x^2,log_2n,\sqrt{y}$ 등)을 볼 수 있는데 출력된 html에서는 문자열 그대로 `$x^2,log_2n,\sqrt{y}$`이라고 나온다. 

그래서 제미나이한테 물어보니까 rehype라는 라이브러리를 사용해야 된다고 답한다.

공통점 : 
- 두 라이브러리 모두 **서버 환경에서 HTML을 조작**하는 역할을 한다. 서버에는 *DOM API*가 없기 때문에 HTML 태그에 직접 접근하고 조작하는 것이 어려운데, 이를 도와주는 라이브러리들이다.

## 차이점

그래서 cheerio랑 rehype의 차이가 뭐냐고 물어보니까 rehype는 "**remark와 함께 콘텐츠 변환 *파이프라인*을 구축**하는데 특화되어 있"다고 한다.

'파이프라인'이라는 단어는 여기저기 검색해보면서 심심찮게 봤던 단어다.
IT분야가 아닌 금융계에서도 사용되는 경우("현금 파이프라인")도 본 적이 있다.
그런데 구체적으로 무슨 뜻인지 궁금해서 찾아봤다.

위키피디아에서는 이렇게 설명한다.
- 컴퓨터 과학에서 파이프라인(영어: pipeline) 또는 데이터 파이프라인(data pipeline)은 **한 데이터 처리 단계의 *출력* 이 다음 단계의 *입력***으로 이어지는 형태로 연결된 구조를 가리킨다. 

한 단계의 출력이 다음 단계의 입력이 되도록 한다는게 중요한 부분인것 같다.
cheerio는 단독적으로 어떤 기능을 수행할 수 있는 독립적인 라이브러리라면,
rehype는 애초에 unified 라는 상위 프로젝트 안에 일부분으로 들어가게끔 만들어진 라이브러리다.
그래서 rehype 입력물과 출력물은 다른 unified에 소속된 다른 패키지들과 상호 호환되도록 만들어졌다는 점.

# MVC 패턴은 '파이프라인'인가?
파이프라인은 데이터가 순차적으로 변환/처리되면서 각 단계의 출력이 다음 단계의 입력이 된다는 것.

MVC 디자인 패턴은 클라이언트(뷰)에서 요청을 보내면 컨트롤러에서 요청을 처리하고 그에 맞는 연산 로직을 서비스에서 수행하고 그 결과를 DB(모델)에 저장한다. 



